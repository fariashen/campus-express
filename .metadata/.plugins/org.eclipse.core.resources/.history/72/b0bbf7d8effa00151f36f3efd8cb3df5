package easyCourierFragment;

import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.TextView;
import android.widget.Toast;

import com.example.easycourier.MainActivity;
import com.example.easycourier.R;

import easyCourierHttpPostRequest.PIShowHttpPost;

/**
 * 
 * @author vacation
 *
 * 实现个人信息的展示
 * 
 * 通过 post 方式与 php 进行通信 ，
 * 获取相应用户的信息，
 * 分别赋值给相应的控件。
 * 
 * 当点击修改按钮时，触发调用 PersonalInfoEdit.java
 * 
 * 当点击“接受的请求按钮”时，触发调用查询已接受请求方法
 * 
 */

public class PersonalCenterFragment extends Fragment {
	
	//保存PersonalCenterFragment的布局
	private View view;
	
	/**
	 * 参数
	 * 
	 * 用户名控件 tv_PersonalCenter_Username
	 * 
	 * 密码控件 tv_PersonalCenter_Password
	 * 
	 * 修改按钮 bt_PersonalCenter_Edit
	 * 
	 */
	public static TextView tv_PersonalCenter_UserName;
	public static TextView tv_PersonalCenter_PassWord;
	/**
	 * 子线程执行网络请求，获取数据后，会向主线程发送更新UI请求
	 * 涉及到更新的控件需要设置成全局静态属性，以供调用
	 */
	
	private Button bt_PersonalCenter_Edit;
	
	/**
	 * 
	 * 网络线程操作
	 * 获取用户的个人信息
	 * 并设置相应控件的值
	 * 
	 */
	private PIShowHttpPost mPiShowHttpPost;
	
	
	
	@Override
	public View onCreateView(LayoutInflater inflater,
			@Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
	
		view = inflater.inflate(R.layout.fragment_personalcenter, container,false);
		
		/**
		 * 初始化控件
		 */
		tv_PersonalCenter_UserName = (TextView) view.findViewById(R.id.tv_PersonalCenter_Username);
		tv_PersonalCenter_PassWord = (TextView) view.findViewById(R.id.tv_PersonalCenter_Password);
		
		/**
		 * 
		 * 实例化线程
		 * 并启动线程，执行查询和设置控件操作
		 * 
		 */
		mPiShowHttpPost = new PIShowHttpPost();
		mPiShowHttpPost.start();
		
		bt_PersonalCenter_Edit = (Button) view.findViewById(R.id.bt_PersonalCenter_Edit);
		
		bt_PersonalCenter_Edit.setOnClickListener(new View.OnClickListener() {
			
			@Override
			public void onClick(View v) {

				Toast.makeText(view.getContext(), "Click the Button", Toast.LENGTH_SHORT).show();
			}
		});
		
		return view;
	}


}
